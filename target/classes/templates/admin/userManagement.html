<!DOCTYPE html>
<html lang="en">
<head>
    <!--There is a something strange here(: -->
    <div th:replace="~{fragments/elements::necessaryHEAD}"></div>
    <title>USER MANAGEMENT</title>
</head>
<body class="bg-secondary">
    <div class="container-fluid min-vh-100 d-flex flex-column">
        <!--HEADER-->
        <div th:replace="~{fragments/elements::header}"></div>
        <div class="row flex-grow-1">
            <!--ASIDE NAVBAR-->
            <div th:replace="~{fragments/elements::aside}"></div>
            <section class="col">
                <br>
                <h3 class="text-center text-primary"><b>USER MANAGEMENT</b></h3>
                <br>
                <table class="table">
                    <thead>
                        <tr>
                            <th scope="col">INDEX</th>
                            <th scope="col">ID</th>
                            <th scope="col">USERNAME</th>
                            <th scope="col">PASSWORD</th>
                            <th scope="col">E-MAIL</th>
                            <th scope="col">NAME</th>
                            <th scope="col">LASTNAME</th>
                            <th scope="col">ROLES</th>
                            <th scope="col">EDIT</th>
                            <th scope="col">DELETE</th>
                        </tr>
                    </thead>
                    <tbody class="table-striped">
                        <tr th:each="user, state : ${users}">
                            <th scope="row" th:text="${state.count}">INDEX</th>
                            <td th:text="${user.id}">ID</td>
                            <td th:text="${user.userName}">USERNAME</td>
                            <td > * * * </td>
                            <td th:text="${user.email}">E-MAIL</td>
                            <td th:text="${user.name}">NAME</td>
                            <td th:text="${user.lastname}">LASTNAME</td>
                            <td> <span th:each="role:${user.roleSet}"> <span th:text="${role.roleName}"></span><br></span> </td>
                            <td>
                                <!-- Button EDIT modal start-->
                                <button type="button"
                                        class="btn btn-warning col-12"
                                        data-bs-toggle="modal"
                                        data-bs-target="#edtiModal"
                                        th:attrappend="data-bs-target=${user.id}">
                                    EDIT
                                </button>
                                <div th:insert="fragments/editModal::#edtiModal"></div>
                                <!-- Button EDIT modal end-->
                            </td>
                            <td >
                                <!-- Button DELETE modal start-->
                                <button type="button"
                                        class="btn btn-danger col-12"
                                        data-bs-toggle="modal"
                                        data-bs-target="#deleteModal"
                                        th:attrappend="data-bs-target=${user.id}">
                                    DELETE
                                </button>
                                <div th:insert="fragments/deleteModal::#deleteModal"></div>
                                <!-- Button DELETE modal end-->
                            </td>
                        </tr>
                        <tr>
                            <td colspan="10">
                                <!-- Button CREATE modal start-->
                                <button type="button"
                                        class="btn btn-success col-12"
                                        data-bs-toggle="modal"
                                        data-bs-target="#createModal">
                                    CREATE NEW USER
                                </button>
                                <div th:insert="fragments/createModal::#createModal"></div>
                                <!-- Button CREATE modal end-->
                            </td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </div>
        <!--FOOTER-->
        <div th:replace="~{fragments/elements::footer}"></div>
    </div>
    <!--INSERT SCRIPT FOR JS&POPPER-->
    <div th:replace="~{fragments/elements::scriptJSPOPPER}"></div>
</body>
</html>